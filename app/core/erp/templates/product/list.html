{% extends 'list.html' %}
{% load static %}

{% block head_list %}
    <script src="{% static 'product/js/list.js' %}"></script>
{% endblock %}

{% block columns %}
<tr>
    <th style="width: 5%;">Nro</th>
    <th style="width: 20%;">Nombre</th>
    <th style="width: 10%;">Categoría</th>
    <th style="width: 10%;">Imagen</th>
    <th style="width: 10%;">Stock</th>
    <th style="width: 15%;">Precio</th>
    <th style="width: 15%;">Opciones</th>
</tr>
{% endblock %}

{% block rows %}
{% for obj in object_list %}
<tr>
    <td>{{ forloop.counter }}</td>
    <td>{{ obj.name }}</td>
    <td>{{ obj.cate.name }}</td>
    <td class="text-center">
        {% if obj.image %}
            <img src="{{ obj.image.url }}" class="img-fluid rounded" style="width:50px;height:50px;">
        {% else %}
            <span class="text-muted">Sin imagen</span>
        {% endif %}
    </td>
    <td>{{ obj.stock }}</td>
    <td>{{ obj.pvp }}</td>
    <td class="text-center">
        <a href="{% url 'erp:product_update' obj.id %}" class="btn btn-warning btn-xs">
            <i class="fas fa-edit"></i>
        </a>
        <a href="{% url 'erp:product_delete' obj.id %}" class="btn btn-danger btn-xs">
            <i class="fas fa-trash"></i>
        </a>
    </td>
</tr>
{% endfor %}
{% endblock %}

{% block javascript %}
<style>

    /* Estado base */
    .row-low-stock,
    .row-low-stock td {
        background-color: rgba(240, 240, 240, 0.12) !important;
    }

    .row-good-stock,
    .row-good-stock td {
        background-color: rgba(231, 235, 231, 0.12) !important;
    }

    /* BLOCK: Quitamos hover blanco que pone DataTables + Bootstrap */
    table.dataTable tbody tr:hover > td {
        background-color: transparent !important;
    }

    /* HOVER MÁS OSCURO */
    .row-low-stock:hover,
    .row-low-stock:hover td {
        background-color: rgba(255, 0, 0, 0.22) !important;
    }

    .row-good-stock:hover,
    .row-good-stock:hover td {
        background-color: rgba(0, 200, 0, 0.22) !important;
    }

</style>

{% endblock %}







